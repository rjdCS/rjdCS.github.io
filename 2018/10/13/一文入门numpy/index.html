<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="一文入门numpy"><meta name="keywords" content="python,numpy"><meta name="author" content="JunDa Ren (Richard Ren)"><meta name="copyright" content="JunDa Ren (Richard Ren)"><title>一文入门numpy | RJD's Blog</title><link rel="shortcut icon" href="/r-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.6.0"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建ndarraynumpy数组对象arrays"><span class="toc-number">1.</span> <span class="toc-text"> 创建ndarray——Numpy数组对象Arrays</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建ndarray的方法有很多种"><span class="toc-number">1.1.</span> <span class="toc-text"> 创建ndarray的方法有很多种：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#method1-基于list或者tuple"><span class="toc-number">1.1.1.</span> <span class="toc-text"> Method1: 基于list或者tuple</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#method2-基于nparange"><span class="toc-number">1.1.2.</span> <span class="toc-text"> Method2: 基于np.arange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#method3-基于arange以及reshape创建多维数组"><span class="toc-number">1.1.3.</span> <span class="toc-text"> Method3: 基于arange以及reshape创建多维数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#methonx-其他方法"><span class="toc-number">1.1.4.</span> <span class="toc-text"> Methonx: 其他方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#访问数组"><span class="toc-number">2.</span> <span class="toc-text"> 访问数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#切片"><span class="toc-number">2.1.</span> <span class="toc-text"> 切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#整型数组访问"><span class="toc-number">2.2.</span> <span class="toc-text"> 整型数组访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布尔型数组访问"><span class="toc-number">2.3.</span> <span class="toc-text"> 布尔型数组访问</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据类型"><span class="toc-number">3.</span> <span class="toc-text"> 数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组计算"><span class="toc-number">4.</span> <span class="toc-text"> 数组计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#广播机制-broadcasting"><span class="toc-number">5.</span> <span class="toc-text"> 广播机制 Broadcasting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy文档"><span class="toc-number">6.</span> <span class="toc-text"> Numpy文档</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars2.githubusercontent.com/u/8386277?s=460&amp;v=4"></div><div class="author-info__name text-center">JunDa Ren (Richard Ren)</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">17</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">24</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">12</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://ww1.sinaimg.cn/large/73c0c3d4gy1ftgcxsy69qj22bc1jknpg.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">RJD's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">一文入门numpy</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-10-13</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/numpy/">numpy</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">3,318</span><span class="post-meta__separator">|</span><span>阅读时长: 16 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>Numpy是python中用于科学计算的核心库。它提供了高性能的多维数组对象，记忆相关工具。</p>
<p>本文是一片入门文章，带你立马进入科学计算的世界。之后，再继续详细的学习Numpy</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<h2 id="创建ndarraynumpy数组对象arrays"><a class="markdownIt-Anchor" href="#创建ndarraynumpy数组对象arrays"></a> 创建ndarray——Numpy数组对象Arrays</h2>
<p>Numpy中的多维数组称为ndarray，这是Numpy中最常见的数组对象。ndarray对象通常包含两个部分：</p>
<ul>
<li>ndarray数据本身</li>
<li>描述数据的元数据</li>
</ul>
<p>一个numpy数组是一个由不同数值组成的网格。网格中的数据都是统一数据类型，可以通过非负整型数的元组来访问。维度的数量被称为数组的阶，数组的大小是一个由整型数构成的元组，可以描述数组不同维度上的大小。</p>
<h3 id="创建ndarray的方法有很多种"><a class="markdownIt-Anchor" href="#创建ndarray的方法有很多种"></a> 创建ndarray的方法有很多种：</h3>
<h4 id="method1-基于list或者tuple"><a class="markdownIt-Anchor" href="#method1-基于list或者tuple"></a> Method1: 基于list或者tuple</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基于list</span></span><br><span class="line"><span class="comment">#一维数组</span></span><br><span class="line">arr1_list = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">print(arr1_list)</span><br><span class="line">print(arr1_list.shape) <span class="comment"># 查看维数</span></span><br><span class="line"><span class="comment">#二维数组(2*3)</span></span><br><span class="line">arr2_list = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>], [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">print(arr2_list)</span><br><span class="line">print(arr2_list.shape)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"*****************"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#基于tuple</span></span><br><span class="line"><span class="comment"># 一维数组</span></span><br><span class="line">arr1_tuple = np.array((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">print(arr1_tuple)</span><br><span class="line"><span class="comment"># 二维数组</span></span><br><span class="line">arr2_tuple = np.array(((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)))</span><br><span class="line">print(arr2_tuple)</span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3 4]
(4,)
[[1 2 4]
 [3 4 5]]
(2, 3)
*****************
[1 2 3 4]
[[1 2 3]
 [3 4 5]]
</code></pre>
<h4 id="method2-基于nparange"><a class="markdownIt-Anchor" href="#method2-基于nparange"></a> Method2: 基于np.arange</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#一维数据</span></span><br><span class="line">arr1 = np.arange(<span class="number">5</span>)</span><br><span class="line">print(arr1)</span><br></pre></td></tr></table></figure>
<pre><code>[0 1 2 3 4]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#二维数组</span></span><br><span class="line">arr2 = np.array([np.arange(<span class="number">3</span>), np.arange(<span class="number">3</span>)])</span><br><span class="line">print(arr2)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 1 2]
 [0 1 2]]
</code></pre>
<h4 id="method3-基于arange以及reshape创建多维数组"><a class="markdownIt-Anchor" href="#method3-基于arange以及reshape创建多维数组"></a> Method3: 基于arange以及reshape创建多维数组</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建三维数组</span></span><br><span class="line">arr3 = np.arange(<span class="number">24</span>)</span><br><span class="line">print(arr3)</span><br><span class="line">print(<span class="string">"********************"</span>)</span><br><span class="line">arr3 = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) </span><br><span class="line"><span class="comment">#(a, b, c) a*b*c=24 a:量的维数 b:单矩阵的行数 c:单矩阵的列数</span></span><br><span class="line">print(arr3)</span><br><span class="line">print(<span class="string">"********************"</span>)</span><br><span class="line">arr3 = np.arange(<span class="number">24</span>).reshape(<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>)</span><br><span class="line">print(arr3)</span><br></pre></td></tr></table></figure>
<pre><code>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]
********************
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]]

 [[12 13 14 15]
  [16 17 18 19]
  [20 21 22 23]]]
********************
[[[ 0  1]
  [ 2  3]
  [ 4  5]
  [ 6  7]]

 [[ 8  9]
  [10 11]
  [12 13]
  [14 15]]

 [[16 17]
  [18 19]
  [20 21]
  [22 23]]]
</code></pre>
<p>请注意：arange的长度与ndarray的维度的乘积要相等，即 24 = 2X3X4</p>
<h4 id="methonx-其他方法"><a class="markdownIt-Anchor" href="#methonx-其他方法"></a> Methonx: 其他方法</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.zeros((<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">print(a)</span><br><span class="line">print(a.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 0.  0.]
 [ 0.  0.]]
(2, 2)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = np.ones((<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">print(b)</span><br><span class="line">print(b.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1.  1.]]
(1, 2)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = np.full((<span class="number">2</span>, <span class="number">2</span>), <span class="number">7</span>) <span class="comment"># 常量矩阵</span></span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 7.  7.]
 [ 7.  7.]]


/storage/st13/tool/a1/lib/python3.5/site-packages/numpy/core/numeric.py:301: FutureWarning: in the future, full((2, 2), 7) will return an array of dtype('int64')
  format(shape, fill_value, array(fill_value).dtype), FutureWarning)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d = np.eye(<span class="number">2</span>) <span class="comment"># Create a 2x2 identity matrix</span></span><br><span class="line">print(d)</span><br><span class="line">print(<span class="string">"*************"</span>)</span><br><span class="line">d = np.eye(<span class="number">5</span>)</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1.  0.]
 [ 0.  1.]]
*************
[[ 1.  0.  0.  0.  0.]
 [ 0.  1.  0.  0.  0.]
 [ 0.  0.  1.  0.  0.]
 [ 0.  0.  0.  1.  0.]
 [ 0.  0.  0.  0.  1.]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">e = np.random.random((<span class="number">2</span>,<span class="number">2</span>)) <span class="comment"># 随机矩阵</span></span><br><span class="line">print(e)</span><br><span class="line">print(<span class="string">"***********************"</span>)</span><br><span class="line">e = np.random.random((<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">print(e)</span><br><span class="line">print(<span class="string">"***********************"</span>)</span><br><span class="line">e = np.random.random((<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">print(e)</span><br><span class="line">print(<span class="string">"***********************"</span>)</span><br><span class="line">e = np.random.random((<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">print(e)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 0.85433662  0.39258359]
 [ 0.29631359  0.05891357]]
***********************
[[ 0.64301123  0.99398848  0.76786152]
 [ 0.48457956  0.78617157  0.59321882]
 [ 0.87496542  0.63363914  0.29266131]]
***********************
[[ 0.95488923  0.48188791  0.69978935  0.45231896  0.17893613]
 [ 0.14353007  0.30440851  0.99860637  0.30771004  0.07808516]
 [ 0.25500584  0.90187196  0.62752036  0.87251994  0.0885015 ]]
***********************
[[[ 0.25445793  0.29760547  0.01109148  0.88356824  0.69800616]
  [ 0.20794927  0.84670214  0.68143358  0.15878092  0.4199746 ]
  [ 0.00471408  0.00620308  0.0061098   0.94018075  0.33162902]]

 [[ 0.46792911  0.4289224   0.80178591  0.59352602  0.77850049]
  [ 0.24100767  0.54646633  0.29545157  0.47070267  0.10661919]
  [ 0.3629408   0.77001824  0.00791864  0.25837697  0.20175684]]]
</code></pre>
<p>其他数组的相关方法，<a href="https://docs.scipy.org/doc/numpy/user/basics.creation.html" target="_blank" rel="noopener">文档</a></p>
<h2 id="访问数组"><a class="markdownIt-Anchor" href="#访问数组"></a> 访问数组</h2>
<h3 id="切片"><a class="markdownIt-Anchor" href="#切片"></a> 切片</h3>
<p>和python列表类似，numpy数组可以使用切片语法。因为数组可以是多维的，所有<strong>必须为每个维度指定好切片</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.Create the following rank 2 array with shape (3, 4)</span></span><br><span class="line"><span class="comment"># [[ 1  2  3  4]</span></span><br><span class="line"><span class="comment">#  [ 5  6  7  8]</span></span><br><span class="line"><span class="comment">#  [ 9 10 11 12]]</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1  2  3  4]
 [ 5  6  7  8]
 [ 9 10 11 12]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.Use slicing to pull out the subarray consisting of the first 2 rows</span></span><br><span class="line"><span class="comment"># and columns 1 and 2; b is the following array of shape (2, 2):</span></span><br><span class="line"><span class="comment"># [[2 3]</span></span><br><span class="line"><span class="comment">#  [6 7]]</span></span><br><span class="line">b = a[:<span class="number">2</span>, <span class="number">1</span>:<span class="number">3</span>] <span class="comment"># [行: 前X行， 行slice: a:b]</span></span><br><span class="line">print(b)</span><br><span class="line">b = a[:<span class="number">3</span>, :<span class="number">3</span>]</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<pre><code>[[2 3]
 [6 7]]
[[ 1  2  3]
 [ 5  6  7]
 [ 9 10 11]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.A slice of an array is a view into the same data, so modifying it</span></span><br><span class="line"><span class="comment"># will modify the original array.</span></span><br><span class="line">print(a[<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">a[<span class="number">0</span>, <span class="number">1</span>] = <span class="number">520</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<pre><code>2
[[  1 520   3   4]
 [  5   6   7   8]
 [  9  10  11  12]]
</code></pre>
<h3 id="整型数组访问"><a class="markdownIt-Anchor" href="#整型数组访问"></a> 整型数组访问</h3>
<p>当我们使用切片语法访问数组时，得到的总是原数组的一个子集。整型数组访问允许我们<strong>利用其它数组的数据构建一个新的数组</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>], [<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(a)</span><br><span class="line">print(a.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2]
 [3 4]
 [5 6]]
(3, 2)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(a[[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]) <span class="comment">#a[[第几行，][第几列，]]</span></span><br><span class="line">print(a[[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]])</span><br><span class="line">print(a[[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]])</span><br></pre></td></tr></table></figure>
<pre><code>[5 5 5 5]
[5 5 5 4]
[5 5 6]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.array([a[<span class="number">0</span>, <span class="number">0</span>], a[<span class="number">1</span>, <span class="number">1</span>], a[<span class="number">2</span>, <span class="number">0</span>]]))</span><br></pre></td></tr></table></figure>
<pre><code>[1 4 5]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(a[[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>]]) <span class="comment">#a[[第几行，][第几列，]]</span></span><br></pre></td></tr></table></figure>
<pre><code>[2 4]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.array([a[<span class="number">0</span>, <span class="number">1</span>], a[<span class="number">0</span>, <span class="number">1</span>]])) <span class="comment">#a[[第几行，][第几列，]]</span></span><br></pre></td></tr></table></figure>
<pre><code>[2 2]
</code></pre>
<p>整型数组访问语法还有个有用的技巧，可以用来选择或者更改矩阵中每行中的一个元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.Create a new array from which we will select elements</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>], [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1  2  3]
 [ 4  5  6]
 [ 7  8  9]
 [10 11 12]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.Create an array of indices array的index</span></span><br><span class="line">b = np.array([<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>
<pre><code>[0 2 0 1]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.Select one element from each row of a using the indices in b</span></span><br><span class="line">print(a[np.arange(<span class="number">4</span>), b])</span><br></pre></td></tr></table></figure>
<pre><code>[ 1  6  7 11]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 4.Mutate one element from each row of a using the indices in b</span></span><br><span class="line">a[np.arange(<span class="number">4</span>), b] += <span class="number">10</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<pre><code>[[21  2  3]
 [ 4  5 26]
 [27  8  9]
 [10 31 12]]
</code></pre>
<h3 id="布尔型数组访问"><a class="markdownIt-Anchor" href="#布尔型数组访问"></a> 布尔型数组访问</h3>
<p>布尔型数组访问可以让你选择数组中任意元素。通常，这种访问方式用于<strong>选取数组中满足某些条件的元素</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2]
 [3 4]
 [5 6]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bool_idx = (a &gt; <span class="number">2</span>)</span><br><span class="line">print(bool_idx)</span><br></pre></td></tr></table></figure>
<pre><code>[[False False]
 [ True  True]
 [ True  True]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(a[bool_idx])</span><br><span class="line">print(a[a &gt; <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[3 4 5 6]
[3 4 5 6]
</code></pre>
<p>为了教程的简介，有很多数组访问的细节我们没有详细说明，可以查看<a href="https://docs.scipy.org/doc/numpy/user/basics.creation.html" target="_blank" rel="noopener">文档</a></p>
<h2 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h2>
<p>Numpy的数值类型如下：</p>
<p><img src="http://ww1.sinaimg.cn/large/73c0c3d4gy1fw6d6gxtndj20go0i2424.jpg" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">print(x.dtype)</span><br></pre></td></tr></table></figure>
<pre><code>int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1.0</span>, <span class="number">2.0</span>])</span><br><span class="line">print(x.dtype)</span><br></pre></td></tr></table></figure>
<pre><code>float64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1.0</span>, <span class="number">2.0</span>], dtype=np.int64)</span><br><span class="line">print(x.dtype)</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<pre><code>int64
[1 2]
</code></pre>
<p>更多细节查看<a href="https://docs.scipy.org/doc/numpy/user/basics.creation.html" target="_blank" rel="noopener">文档</a></p>
<h2 id="数组计算"><a class="markdownIt-Anchor" href="#数组计算"></a> 数组计算</h2>
<p>基本数学计算函数，会对数组中<strong>元素逐个进行计算</strong>，既可以利用操作符重载，也可以使用函数方式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]], dtype=np.float64)</span><br><span class="line">y = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]], dtype=np.float64)</span><br><span class="line">print(x)</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1.  2.]
 [ 3.  4.]]
[[ 5.  6.]
 [ 7.  8.]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># "矩阵"相加——元素相加</span></span><br><span class="line">print(x + y)</span><br><span class="line">print(<span class="string">"**************"</span>)</span><br><span class="line">print(np.add(x, y))</span><br></pre></td></tr></table></figure>
<pre><code>[[  6.   8.]
 [ 10.  12.]]
[[  6.   8.]
 [ 10.  12.]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># "矩阵"相减——元素相减</span></span><br><span class="line">print(x - y)</span><br><span class="line">print(<span class="string">"**************"</span>)</span><br><span class="line">print(np.subtract(x, y))</span><br></pre></td></tr></table></figure>
<pre><code>[[-4. -4.]
 [-4. -4.]]
[[-4. -4.]
 [-4. -4.]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># "矩阵"乘法——元素相乘</span></span><br><span class="line">print(x * y)</span><br><span class="line">print(<span class="string">"*************"</span>)</span><br><span class="line">print(np.multiply(x, y))</span><br></pre></td></tr></table></figure>
<pre><code>[[  5.  12.]
 [ 21.  32.]]
*************
[[  5.  12.]
 [ 21.  32.]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># "矩阵"除法——元素相除</span></span><br><span class="line">print(x / y)</span><br><span class="line">print(<span class="string">"************"</span>)</span><br><span class="line">print(np.divide(x, y))</span><br></pre></td></tr></table></figure>
<pre><code>[[ 0.2         0.33333333]
 [ 0.42857143  0.5       ]]
************
[[ 0.2         0.33333333]
 [ 0.42857143  0.5       ]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 平方根"矩阵"——元素开根</span></span><br><span class="line">print(np.sqrt(x))</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1.          1.41421356]
 [ 1.73205081  2.        ]]
</code></pre>
<p>和MATLAB不同，*<strong>是元素逐个相乘，而不是矩阵乘法</strong>。</p>
<p><strong>在Numpy中使用dot来进行矩阵乘法：</strong></p>
<p><img src="http://ww1.sinaimg.cn/large/73c0c3d4gy1fw6ebckje0j20ay01ot8h.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/73c0c3d4gy1fw6ehktoogj20gi01lmwz.jpg" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">y = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line">print(x)</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2]
 [3 4]]
[[5 6]
 [7 8]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">v = np.array([<span class="number">9</span>,<span class="number">10</span>])</span><br><span class="line">w = np.array([<span class="number">11</span>, <span class="number">12</span>])</span><br><span class="line">print(v)</span><br><span class="line">print(w)</span><br></pre></td></tr></table></figure>
<pre><code>[ 9 10]
[11 12]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(v.dot(w))</span><br><span class="line">print(np.dot(v, w))</span><br></pre></td></tr></table></figure>
<pre><code>219
219
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(x.dot(v))</span><br><span class="line">print(np.dot(x, v))</span><br></pre></td></tr></table></figure>
<pre><code>[29 67]
[29 67]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(x.dot(y))</span><br><span class="line">print(np.dot(x, y))</span><br></pre></td></tr></table></figure>
<pre><code>[[19 22]
 [43 50]]
[[19 22]
 [43 50]]
</code></pre>
<p>Numpy提供了很多计算数组的函数，其中最常用的一个是sum(元素之和)：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2]
 [3 4]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(np.sum(x))</span><br><span class="line">print(np.sum(x, axis=<span class="number">0</span>)) <span class="comment"># 列之和</span></span><br><span class="line">print(np.sum(x, axis=<span class="number">1</span>)) <span class="comment"># 行之和</span></span><br></pre></td></tr></table></figure>
<pre><code>10
[4 6]
[3 7]
</code></pre>
<p>想要了解更多函数，可以查看<a href="https://docs.scipy.org/doc/numpy/user/basics.creation.html" target="_blank" rel="noopener">文档</a></p>
<p>除了计算，我们还常常改变数组或者操作其中的元素。其中将矩阵转置是常用的一个，在Numpy中，使用T来转置矩阵：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2]
 [3 4]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(x.T)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 3]
 [2 4]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Note that taking the transpose of a rank 1 array does nothing:</span></span><br><span class="line">v = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">print(v)</span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(v.T)</span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3]
</code></pre>
<p>Numpy还提供了更多操作数组的方法，请查看<a href="https://docs.scipy.org/doc/numpy/user/basics.creation.html" target="_blank" rel="noopener">文档</a></p>
<h2 id="广播机制-broadcasting"><a class="markdownIt-Anchor" href="#广播机制-broadcasting"></a> 广播机制 Broadcasting</h2>
<p>广播是一种强有力的机制，它让Numpy可以让<strong>不同大小的矩阵在一起进行数学计算</strong>。我们常常会有一个小的矩阵和一个大的矩阵，然后我们会需要用小的矩阵对大的矩阵做一些计算。</p>
<p>举个例子，如果我们想要把一个向量加到矩阵的每一行，我们可以这样做：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>], [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line">v = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">y = np.empty_like(x)   <span class="comment"># Create an empty matrix with the same shape as x</span></span><br><span class="line">print(x)</span><br><span class="line">print(v)</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1  2  3]
 [ 4  5  6]
 [ 7  8  9]
 [10 11 12]]
[1 0 1]
[[0 0 0]
 [0 0 0]
 [0 0 0]
 [0 0 0]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(x[<span class="number">1</span> : <span class="number">2</span>, <span class="number">0</span> : <span class="number">1</span>]) <span class="comment"># x[行 ，列]</span></span><br></pre></td></tr></table></figure>
<pre><code>[[4]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(x[<span class="number">0</span>, :]) <span class="comment"># 取第0行</span></span><br><span class="line">print(x[<span class="number">0</span>, : <span class="number">2</span>,]) <span class="comment"># 取第0行 前2个</span></span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3]
[1 2]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    y[i, :] = x[i, :] + v</span><br><span class="line">    </span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 2  2  4]
 [ 5  5  7]
 [ 8  8 10]
 [11 11 13]]
</code></pre>
<p>这样是行得通的，但是当x矩阵非常大，利用循环来计算就会变得很慢很慢。我们可以换一种思路：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>], [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line">v = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">vv = np.tile(v, (<span class="number">4</span>, <span class="number">1</span>))  <span class="comment"># Stack 4 copies of v on top of each other</span></span><br><span class="line">print( vv  )</span><br></pre></td></tr></table></figure>
<pre><code>[[1 0 1]
 [1 0 1]
 [1 0 1]
 [1 0 1]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = x + vv</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 2  2  4]
 [ 5  5  7]
 [ 8  8 10]
 [11 11 13]]
</code></pre>
<p>Numpy广播机制可以让我们不用创建vv，就能直接运算，看看下面例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>], [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]])</span><br><span class="line">v = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">y = x + v</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 2  2  4]
 [ 5  5  7]
 [ 8  8 10]
 [11 11 13]]
</code></pre>
<p>对两个数组使用广播机制要遵守下列规则：</p>
<ul>
<li>如果数组的秩不同，使用1来将秩较小的数组进行扩展，直到两个数组的尺寸的长度都一样。</li>
<li>如果两个数组在某个维度上的长度是一样的，或者其中一个数组在该维度上长度为1，那么我们就说这两个数组在该维度上是相容的。</li>
<li>如果两个数组在所有维度上都是相容的，他们就能使用广播。</li>
<li>如果两个输入数组的尺寸不同，那么注意其中较大的那个尺寸。因为广播之后，两个数组的尺寸将和那个较大的尺寸一样。</li>
<li>在任何一个维度上，如果一个数组的长度为1，另一个数组长度大于1，那么在该维度上，就好像是对第一个数组进行了复制。</li>
</ul>
<p>如果上述解释看不明白，可以读一读<a href="https://link.zhihu.com/?target=http%3A//docs.scipy.org/doc/numpy/user/basics.broadcasting.html" target="_blank" rel="noopener">文档</a>和这个<a href="https://link.zhihu.com/?target=http%3A//scipy.github.io/old-wiki/pages/EricsBroadcastingDoc" target="_blank" rel="noopener">解释</a>。译者注：强烈推荐阅读文档中的例子。</p>
<p>支持广播机制的函数是全局函数。哪些是全局函数可以在<a href="https://link.zhihu.com/?target=http%3A//docs.scipy.org/doc/numpy/reference/ufuncs.html%23available-ufuncs" target="_blank" rel="noopener">文档</a>中查找。</p>
<p>下面是一些广播机制的使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.</span></span><br><span class="line">v = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])  <span class="comment"># v has shape (3,)</span></span><br><span class="line">w = np.array([<span class="number">4</span>,<span class="number">5</span>])    <span class="comment"># w has shape (2,)</span></span><br><span class="line">print(v)</span><br><span class="line">print(w)</span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3]
[4 5]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.reshape(v, (<span class="number">3</span>, <span class="number">1</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>[[1]
 [2]
 [3]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.reshape(v, (<span class="number">3</span>, <span class="number">1</span>))* w)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 4  5]
 [ 8 10]
 [12 15]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. # x has shape (2, 3) and v has shape (3,) so they broadcast to (2, 3),</span></span><br><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2 3]
 [4 5 6]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(x + v)</span><br></pre></td></tr></table></figure>
<pre><code>[[2 4 6]
 [5 7 9]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3.# Add a vector to each column of a matrix</span></span><br><span class="line"><span class="comment"># x has shape (2, 3) and w has shape (2,).</span></span><br><span class="line"><span class="comment"># If we transpose x then it has shape (3, 2) and can be broadcast</span></span><br><span class="line"><span class="comment"># against w to yield a result of shape (3, 2); transposing this result</span></span><br><span class="line"><span class="comment"># yields the final result of shape (2, 3) which is the matrix x with</span></span><br><span class="line"><span class="comment"># the vector w added to each column. Gives the following matrix:</span></span><br><span class="line"><span class="comment"># [[ 5  6  7]</span></span><br><span class="line"><span class="comment">#  [ 9 10 11]]</span></span><br><span class="line">print(x.T)</span><br><span class="line">print(x.T + w)</span><br><span class="line">print((x.T + w).T)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 4]
 [2 5]
 [3 6]]
[[ 5  9]
 [ 6 10]
 [ 7 11]]
[[ 5  6  7]
 [ 9 10 11]]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 4.Another solution is to reshape w to be a row vector of shape (2, 1);</span></span><br><span class="line"><span class="comment"># we can then broadcast it directly against x to produce the same</span></span><br><span class="line"><span class="comment"># output.</span></span><br><span class="line">print( x + np.reshape(w, (<span class="number">2</span>, <span class="number">1</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>[[ 5  6  7]
 [ 9 10 11]]
</code></pre>
<p><strong>广播机制能够让你的代码更简洁更迅速，能够用的时候请尽量使用！</strong></p>
<h2 id="numpy文档"><a class="markdownIt-Anchor" href="#numpy文档"></a> Numpy文档</h2>
<p>这篇教程涉及了你需要了解的numpy中的一些重要内容，但是numpy远不止如此。可以查阅<a href="https://docs.scipy.org/doc/numpy/user/basics.creation.html" target="_blank" rel="noopener">numpy文档</a>来学习更多。</p>
</div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/numpy/">numpy</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/10/13/一文入门matplotlib/"><i class="fa fa-chevron-left">  </i><span>一文入门matplotlib</span></a></div><div class="next-post pull-right"><a href="/2018/07/06/记一次爱奇艺多模态比赛过程/"><span>记一次爱奇艺多模态比赛过程</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(http://ww1.sinaimg.cn/large/73c0c3d4gy1ftgcxsy69qj22bc1jknpg.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2019 By JunDa Ren (Richard Ren)</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.0"></script><script src="/js/fancybox.js?version=1.6.0"></script><script src="/js/sidebar.js?version=1.6.0"></script><script src="/js/copy.js?version=1.6.0"></script><script src="/js/fireworks.js?version=1.6.0"></script><script src="/js/transition.js?version=1.6.0"></script><script src="/js/scroll.js?version=1.6.0"></script><script src="/js/head.js?version=1.6.0"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>